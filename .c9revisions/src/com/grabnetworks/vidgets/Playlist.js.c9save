{"ts":1366913310561,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1366915454350,"patch":[[{"diffs":[[1,"/*!\n *\n * Playlist.js\n * com.grabnetworks.vidgets.Playlist\n *\n */\n_package( 'com.grabnetworks.vidgets',\n    _import( 'com.grabnetworks.player.Modal' ),\n    _import( 'com.grabnetworks.vidify.Badger' ),\n    _import( 'com.grabnetworks.ui.CloseButton' ),\n    _import( 'com.grabnetworks.loading.ContentLoader' ),\n    _import( 'com.grabnetworks.loading.CatalogLoader' ),\n    _import( 'com.grabnetworks.tracking.Ping' ),\n    _import( 'com.grabnetworks.tracking.PlaybackPinger' ),\n    \n    _import( 'com.neuromantic.arete.dom.Window' ),\n    _import( 'com.neuromantic.arete.dom.Document' ),\n    _import( 'com.neuromantic.arete.dom.elements.media.Img' ),\n    _import( 'com.neuromantic.arete.fx.Tween' ),\n    _import( 'com.neuromantic.arete.events.MouseEvent' ),\n    _import( 'com.neuromantic.arete.events.LoadingEvent' ),\n    _class( 'Vidify')._extends( 'Element', {\n        private_listItems : [],\n        private_modal : null,\n        private_playerSettings : {},\n        private_options:null,\n        private_guid : null,\n        private_data : [],\n        private_ready: false,\n        private_onOptionsLoaded: function ( event ){\n            var whitelisted;\n            var options = event.data;\n                    new Ping( { p:'vf', e:'load', i:this._.playerSettings.id, u: encodeURIComponent(url) });\n                    var loader;\n                    var content = options.grabnetworks.content;\n                    switch (content){\n                        case 'MATCH':\n_trace( 'Retreiving matching video...' );\n                            loader = new CatalogLoader( 'test' );\n                            loader.on( LoadingEvent.COMPLETE, this._.onCatalogLoaded );\n                            loader.loadMatch();\n                            break;\n                        case 'RELATED':\n_trace( 'Retreiving related video...' );\n                            loader = new CatalogLoader();\n                            loader.on( LoadingEvent.COMPLETE, this._.onCatalogLoaded );\n                            loader.loadRelated();\n                            break;\n                        default:\n_trace( 'Using embedded video.' );\n                            this._.guid = content;\n                            this._.render();\n                    }\n                }\n            }\n            this._.options = event.data;\n        },\n        private_onCatalogLoaded : function ( event ) {\n_trace( 'Received search results.' );\n            if ( event.data.response.results.length > 0 ){\n_trace( 'Found content candidates.');\n                if(! event.data.trigger){\n_trace( 'Ignoring trigger recommendation.');\n                }\n                this._.data = event.data.results;\n                this._.render();\n            }else{\n_trace( 'No candidates.');\n            }\n        },\n        private_playVideo : function (){\n_trace('Playing video.')\n                \n                this._.modal.play( this._.guid ); \n        },\n        private_render : function () {\n            var \n        }\n        Playlist : function( settings ){\n            this._super( 'ul' );\n            settings.id = settings.id || 1720202;\n            this._.playerSettings = settings;\n            new Ping( { p:'pl', e:'init', i:this._.playerSettings.id });\n            if( settings.badge ){\n                this._.badgeImg.tag( { src : decodeURIComponent( settings.badge ) });\n            }\n            var loader = new ContentLoader();\n            loader.on( LoadingEvent.LOADED, this._.onOptionsLoaded );\n            loader.loadOptions( settings.id );\n        },\n    })\n);\n    "]],"start1":0,"start2":0,"length1":0,"length2":3559}]],"length":3559,"saved":false}
{"ts":1366916980182,"patch":[[{"diffs":[[0," ){\n"],[-1,"            var whitelisted;\n"],[0,"    "]],"start1":1121,"start2":1121,"length1":37,"length2":8},{"diffs":[[0,"t.data;\n"],[-1,"        "],[0,"        "]],"start1":1155,"start2":1155,"length1":24,"length2":16},{"diffs":[[0,"            "],[-1,"     "],[-1,"   "],[0,"var loader;\n"]],"start1":1264,"start2":1264,"length1":32,"length2":24},{"diffs":[[0,"loader;\n"],[-1,"        "],[0,"        "]],"start1":1280,"start2":1280,"length1":24,"length2":16},{"diffs":[[0,"        "],[-1,"  "],[-1,"      "],[0,"switch ("]],"start1":1348,"start2":1348,"length1":24,"length2":16},{"diffs":[[0,"ntent){\n"],[-1,"        "],[0,"        "]],"start1":1366,"start2":1366,"length1":24,"length2":16},{"diffs":[[0,"            "],[-1,"        "],[0,"loader = new"]],"start1":1454,"start2":1454,"length1":32,"length2":24},{"diffs":[[0,"            "],[-1,"      "],[-1,"  "],[0,"loader.on( L"]],"start1":1512,"start2":1512,"length1":32,"length2":24},{"diffs":[[0,"            "],[-1,"        "],[0,"loader.loadM"]],"start1":1592,"start2":1592,"length1":32,"length2":24},{"diffs":[[0,"        "],[-1,"    "],[-1,"    "],[0,"break;\n"],[-1,"        "],[0,"        "]],"start1":1636,"start2":1636,"length1":39,"length2":23},{"diffs":[[0,"            "],[-1," "],[-1,"       "],[0,"loader = new"]],"start1":1732,"start2":1732,"length1":32,"length2":24},{"diffs":[[0,"ogLoader();\n"],[-1,"        "],[0,"            "]],"start1":1762,"start2":1762,"length1":32,"length2":24},{"diffs":[[0,"            "],[-1,"        "],[0,"loader.loadR"]],"start1":1862,"start2":1862,"length1":32,"length2":24},{"diffs":[[0,"        "],[-1,"     "],[-1,"   "],[0,"break;\n"],[-1,"        "],[0,"        "]],"start1":1908,"start2":1908,"length1":39,"length2":23},{"diffs":[[0,"            "],[-1,"        "],[0,"this._.guid "]],"start1":1991,"start2":1991,"length1":32,"length2":24},{"diffs":[[0," = content;\n"],[-1,"        "],[0,"            "]],"start1":2014,"start2":2014,"length1":32,"length2":24},{"diffs":[[0,"();\n"],[-1,"                    }\n                }\n"],[0,"    "]],"start1":2059,"start2":2059,"length1":48,"length2":8},{"diffs":[[0,"_.options = "],[-1,"event.data"],[1,"options"],[0,";\n        },"]],"start1":2094,"start2":2094,"length1":34,"length2":31}]],"length":3351,"saved":false}
{"ts":1366923240550,"patch":[[{"diffs":[[0,"private_"],[-1,"playerS"],[1,"s"],[0,"ettings "]],"start1":927,"start2":927,"length1":23,"length2":17},{"diffs":[[0,"load', i:this._."],[-1,"playerS"],[1,"s"],[0,"ettings.id, u: e"]],"start1":1192,"start2":1192,"length1":39,"length2":33},{"diffs":[[0,"ate_"],[-1,"playVideo"],[1,"render"],[0," : f"]],"start1":2575,"start2":2575,"length1":17,"length2":14},{"diffs":[[0,"n ()"],[1," "],[0,"{\n"],[-1,"_trace('Playing video.')\n                \n                this._.modal.play( this._.guid"],[1,"            for ( var i = 0; i < this._.data.length; i++ ) {\n                var video = this.data[ i ].video;\n                var li = new Element( 'li' );\n                var img = new Img( {src:video.media.preview.url})\n                var title = new Element( 'h4');\n                title.text( video.title );\n                var description = new Element( 'p' );\n                description.text( video.description"],[0," );"],[-1," "],[0,"\n   "]],"start1":2595,"start2":2595,"length1":102,"length2":433},{"diffs":[[0,"    "],[-1,"},\n"],[0,"        "],[-1,"private_render : function () {\n            var "],[1,"li.append( title );\n                li.append( img );\n                li.append( description );\n                this.append( li );\n                Element.find( this._.settings.parent).attach( this )\n            }"],[0,"\n   "]],"start1":3029,"start2":3029,"length1":66,"length2":229},{"diffs":[[0,"     }\n        }"],[1,","],[0,"\n        Playlis"]],"start1":3248,"start2":3248,"length1":32,"length2":33},{"diffs":[[0,"     this._."],[-1,"playerS"],[1,"s"],[0,"ettings = se"]],"start1":3397,"start2":3397,"length1":31,"length2":25},{"diffs":[[0,"s._."],[-1,"playerS"],[1,"s"],[0,"etti"]],"start1":3477,"start2":3477,"length1":15,"length2":9}]],"length":3819,"saved":false}
{"ts":1366923380472,"patch":[[{"diffs":[[0,"g( {"],[1," "],[0,"src:"],[1," "],[0,"vide"]],"start1":2791,"start2":2791,"length1":12,"length2":14},{"diffs":[[0,"view.url"],[-1,"})"],[1," } );"],[0,"\n       "]],"start1":2816,"start2":2816,"length1":18,"length2":21},{"diffs":[[0,"s.parent"],[1," "],[0,").attach"]],"start1":3221,"start2":3221,"length1":16,"length2":17},{"diffs":[[0,"( this )"],[1,";"],[0,"\n       "]],"start1":3238,"start2":3238,"length1":16,"length2":17}]],"length":3826,"saved":false}
{"ts":1366923560825,"patch":[[{"diffs":[[0,"s( '"],[-1,"Vidify"],[1,"Playlist"],[0,"')._"]],"start1":821,"start2":821,"length1":14,"length2":16}]],"length":3828,"saved":false}
{"ts":1366923638384,"patch":[[{"diffs":[[0,"om.Document' ),\n"],[1,"    _import( 'com.neuromantic.arete.dom.Element' ),\n"],[0,"    _import( 'co"]],"start1":566,"start2":566,"length1":32,"length2":84}]],"length":3880,"saved":false}
{"ts":1366927262133,"patch":[[{"diffs":[[0,"preview."],[-1,"url"],[1,"src"],[0," } );\n  "]],"start1":2867,"start2":2867,"length1":19,"length2":19}]],"length":3880,"saved":false}
{"ts":1366927790994,"patch":[[{"diffs":[[0,"    "],[-1,"this._.guid ="],[1,"loader = new ContentLoader();\n                    loader.on( LoadingEvent.COMPLETE, this._.onContentLoaded );\n                    loader.loadContent("],[0," content"],[1," )"],[0,";\n  "]],"start1":2041,"start2":2041,"length1":29,"length2":167},{"diffs":[[0,"   }\n        },\n"],[1,"        private_onContentLoaded : function ( event ) {\n_trace( 'Received content' );\n            var videos = event.data.videos || [ event.data.video ];\n            this._.data = event.data.results;\n            this._.render();\n        },\n"],[0,"        private_"]],"start1":2739,"start2":2739,"length1":32,"length2":271}]],"length":4257,"saved":false}
{"ts":1366927816736,"patch":[[{"diffs":[[0,"    "],[-1,"var videos"],[1,"this._.data"],[0," = e"]],"start1":2848,"start2":2848,"length1":18,"length2":19},{"diffs":[[0," ];\n"],[-1,"            this._.data = event.data.results;\n"],[0,"    "]],"start1":2905,"start2":2905,"length1":54,"length2":8}]],"length":4212,"saved":false}
{"ts":1366928468120,"patch":[[{"diffs":[[0,"ent("],[1,"Document."],[0,"url"],[1,"()"],[0,") })"]],"start1":1293,"start2":1293,"length1":11,"length2":22}]],"length":4223,"saved":false}
{"ts":1366928926109,"patch":[[{"diffs":[[0,"d video."],[1,".."],[0,"' );\n   "]],"start1":2023,"start2":2023,"length1":16,"length2":18}]],"length":4225,"saved":false}
{"ts":1366928933536,"patch":[[{"diffs":[[0," );\n"],[-1,"                    this._.render();\n"],[0,"    "]],"start1":2215,"start2":2215,"length1":45,"length2":8}]],"length":4188,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366936295662,"patch":[[{"diffs":[[0," = this."],[1,"_."],[0,"data[ i "]],"start1":3050,"start2":3050,"length1":16,"length2":18}]],"length":4190,"saved":false}
{"ts":1366938174640,"patch":[[{"diffs":[[0,"TE, "],[-1,"this._.onContentLoaded );"],[1,"function( event ){\n_trace( 'content complete' );\n                        this._.onContentLoaded( event );\n                    })"],[0,"\n   "]],"start1":2138,"start2":2138,"length1":33,"length2":136}]],"length":4293,"saved":false}
{"ts":1366939037920,"patch":[[{"diffs":[[0," ),\n"],[-1,"    _import( 'com.grabnetworks.vidify.Badger' ),\n"],[0,"    "]],"start1":148,"start2":148,"length1":57,"length2":8},{"diffs":[[0," ),\n"],[-1,"    _import( 'com.neuromantic.arete.fx.Tween' ),\n"],[0,"    "]],"start1":644,"start2":644,"length1":57,"length2":8}]],"length":4195,"saved":false}
{"ts":1366939602093,"patch":[[{"diffs":[[0,"ent."],[-1,"LOADED"],[1,"COMPLETE"],[0,", th"]],"start1":4085,"start2":4085,"length1":14,"length2":16}]],"length":4197,"saved":false}
{"ts":1366939910868,"patch":[[{"diffs":[[0," ( event ){\n"],[1,"_trace( 'Received options.' );\n"],[0,"            "]],"start1":1063,"start2":1063,"length1":24,"length2":55},{"diffs":[[0,"gs;\n"],[-1,"            new Ping( { p:'pl', e:'init', i:this._.settings.id });\n            if( settings.badge ){\n                this._.badgeImg.tag( { src : decodeURIComponent( settings.badge ) });\n            }\n"],[0,"    "]],"start1":3833,"start2":3833,"length1":209,"length2":8}]],"length":4027,"saved":false}
{"ts":1366940654707,"patch":[[{"diffs":[[0,"TE, "],[-1,"function( event ){\n_trace( 'content complete' );\n                        this._.onContentLoaded( event );\n                    })"],[1,"this._.onContentLoaded );"],[0,"\n   "]],"start1":2071,"start2":2071,"length1":136,"length2":33}]],"length":3924,"saved":false}
{"ts":1366941582332,"patch":[[{"diffs":[[0,"    "],[1,"new "],[0,"Element"],[-1,".find"],[1,"()"],[0,"( th"]],"start1":3486,"start2":3486,"length1":20,"length2":21}]],"length":3925,"saved":false}
{"ts":1366941640720,"patch":[[{"diffs":[[0,"ent("],[-1,")("],[0," thi"]],"start1":3498,"start2":3498,"length1":10,"length2":8}]],"length":3923,"saved":false}
{"ts":1366941724060,"patch":[[{"diffs":[[0,"pend( li );\n    "],[1,"        }\n"],[0,"            new "]],"start1":3462,"start2":3462,"length1":32,"length2":42},{"diffs":[[0,"ch( this );\n"],[-1,"            }\n"],[0,"        },\n "]],"start1":3542,"start2":3542,"length1":38,"length2":24}]],"length":3919,"saved":false}
{"ts":1366941806946,"patch":[[{"diffs":[[0," ).a"],[-1,"ttach"],[1,"ppend"],[0,"( th"]],"start1":3535,"start2":3535,"length1":13,"length2":13}]],"length":3919,"saved":false}
{"ts":1366942001140,"patch":[[{"diffs":[[0,"dom.Element' ),\n"],[1,"    _import( 'com.neuromantic.arete.dom.elements.Div' ),\n"],[0,"    _import( 'co"]],"start1":569,"start2":569,"length1":32,"length2":89},{"diffs":[[0,"var "],[-1,"l"],[0,"i"],[1,"tem"],[0," = new "],[-1,"Element( 'li' "],[1,"Div("],[0,");\n "]],"start1":3083,"start2":3083,"length1":31,"length2":23},{"diffs":[[0,"                "],[-1,"l"],[0,"i"],[1,"tem"],[0,".append( title )"]],"start1":3376,"start2":3376,"length1":34,"length2":36},{"diffs":[[0,"                "],[-1,"l"],[0,"i"],[1,"tem"],[0,".append( img );\n"]],"start1":3414,"start2":3414,"length1":34,"length2":36},{"diffs":[[0,"        "],[-1,"l"],[0,"i"],[1,"tem"],[0,".append("]],"start1":3458,"start2":3458,"length1":18,"length2":20},{"diffs":[[0,"append( "],[-1,"l"],[0,"i"],[1,"tem"],[0," );\n    "]],"start1":3515,"start2":3515,"length1":18,"length2":20},{"diffs":[[0,"ings ){\n"],[1,""],[0,"        "]],"start1":3655,"start2":3655,"length1":16,"length2":16},{"diffs":[[0,"per("],[-1," 'ul'"],[0," );\n"]],"start1":3683,"start2":3683,"length1":13,"length2":8}]],"length":3971,"saved":false}
{"ts":1366942061200,"patch":[[{"diffs":[[0,"tends( '"],[-1,"Element"],[1,"Div"],[0,"', {\n   "]],"start1":850,"start2":850,"length1":23,"length2":19}]],"length":3967,"saved":false}
{"ts":1366942645568,"patch":[[{"diffs":[[0,"preview."],[-1,"src"],[1,"url"],[0," } );\n  "]],"start1":3155,"start2":3155,"length1":19,"length2":19}]],"length":3967,"saved":false}
{"ts":1366942858940,"patch":[[{"diffs":[[0,"( 'h"],[-1,"4"],[1,"3"],[0,"');\n"]],"start1":3211,"start2":3211,"length1":9,"length2":9}]],"length":3967,"saved":false}
{"ts":1366944470801,"patch":[[{"diffs":[[0,"ata[ i ]"],[-1,".video"],[0,";\n      "]],"start1":3047,"start2":3047,"length1":22,"length2":16}]],"length":3961,"saved":false}
{"ts":1366944553420,"patch":[[{"diffs":[[0,"ata[ i ]"],[1,".video"],[0,";\n      "]],"start1":3047,"start2":3047,"length1":16,"length2":22}]],"length":3967,"saved":false}
{"ts":1366944742078,"patch":[[{"diffs":[[0,"ata[ i ]"],[-1,".video"],[0,";\n      "]],"start1":3047,"start2":3047,"length1":22,"length2":16}]],"length":3961,"saved":false}
{"ts":1366944853862,"patch":[[{"diffs":[[0,"ata[ i ]"],[1,".video"],[0,";\n      "]],"start1":3047,"start2":3047,"length1":16,"length2":22}]],"length":3967,"saved":false}
{"ts":1366945137266,"patch":[[{"diffs":[[0,"ata[ i ]"],[-1,".video"],[0,";\n      "]],"start1":3047,"start2":3047,"length1":22,"length2":16}]],"length":3961,"saved":false}
{"ts":1366945730396,"patch":[[{"diffs":[[0,"ata[ i ]"],[1,".video"],[0,";\n      "]],"start1":3047,"start2":3047,"length1":16,"length2":22}]],"length":3967,"saved":false}
{"ts":1366946024164,"patch":[[{"diffs":[[0,"eos || ["],[1," { video:"],[0," event.d"]],"start1":2842,"start2":2842,"length1":16,"length2":25},{"diffs":[[0,"ta.video"],[1," }"],[0," ];\n    "]],"start1":2868,"start2":2868,"length1":16,"length2":18}]],"length":3978,"saved":false}
{"ts":1366946094085,"patch":[[{"diffs":[[0,"|| ["],[-1," { video:"],[0," eve"]],"start1":2846,"start2":2846,"length1":17,"length2":8},{"diffs":[[0,"data"],[-1,".video }"],[0," ];\n"]],"start1":2857,"start2":2857,"length1":16,"length2":8}]],"length":3961,"saved":false}
{"ts":1366947826674,"patch":[[{"diffs":[[0,"new Div("],[1,"{className:'ListItem'}"],[0,");\n     "]],"start1":3084,"start2":3084,"length1":16,"length2":38}]],"length":3983,"saved":false}
