{"ts":1370985927571,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1371159064232,"patch":[[{"diffs":[[1,"/*!\n *\n * VideoAd.js\n * com.grabnetworks.advertisement.VideoAd.js\n *\n */\n_package( 'com.grabnetworks.advertisement',\n    _import('tv.adap.jsvpaid'),\n    _import('com.neuromantic.arete.dom.Document'),\n    _class( 'VideoAd')._extends( 'Video', {\n        private_ad : null,\n        private_environmentVars : null,\n        private_baseAdTagUrl : \"http://ads.adap.tv/a/t/voxant\",\n        VideoAd : function ( video ) {\n            this._super();\n            this._.environmentVars = {\n                maxWrapperLevels  : 5, // Maximum number of VAST wrapper redirects; default is 5.\n                adTagTimeout      : 10, // Time in seconds to wait for the network to resolve the ad tag; default is 10s.\n                videoTimeout      : 30, // Total in seconds time to wait for a video ad to show; default is 30s.\n                videoSlot       : this._.tag // Id of existing HTML5 video player (in-stream case)\n            };\n        },\n        private_onAdLoaded : function() {\n            this.ad.startAd();\n        },\n        play: function( video ){\n            var customParams = {};\n            var creativeData =  { \n                adTagUrl      : __adaptv__.vpaid.constructAdTag(baseAdTagUrl, params, customParams) // Helper method to append and encode all defined data\n            };\n            var params = {\n                pageUrl      : Document.url(),\n                id           : video.product_id,\n                title        : video.title, // Video title.\n                description  : video.description, // Video description.\n                duration     : video.duration, // Video duration.\n                categories   : video.categories // Categories, comma-separated.\n            };\n            this._.ad = new __adaptv__.vpaid.VPAIDAd();adaptvVPAIDAd.subscribe('AdStarted', function(e) { console.log(e.type); });\n            this._.ad.subscribe('AdLoaded', this._.onAdLoaded);\n            this._.ad.subscribe('AdStopped', function() { console.log('Ad stopped.');});\n            this._.ad.subscribe('AdError', function(e) {console.log(e.type + '! Error code: ' + e.data.errorCode + '. Error message: ' + e.data.errorMessage)});\n            this._.ad.initAd(this.width(), this.height(), -1, -1, creativeData, environmentVars);\n        }\n    })\n);\n        "]],"start1":0,"start2":0,"length1":0,"length2":2282}]],"length":2282,"saved":false}
{"ts":1371159127212,"patch":[[{"diffs":[[0,"tVars);\n"],[1,"            this._.ad.startAd();\n"],[0,"        "]],"start1":2246,"start2":2246,"length1":16,"length2":49}]],"length":2315,"saved":false}
{"ts":1371159342376,"patch":[[{"diffs":[[0,"\n            };\n"],[1,"            this._.ad = new __adaptv__.vpaid.VPAIDAd();\n"],[0,"        },\n     "]],"start1":911,"start2":911,"length1":32,"length2":88},{"diffs":[[0,"_.ad"],[-1," = new __adaptv__.vpaid.VPAIDAd();adaptvVPAIDAd"],[0,".sub"]],"start1":1784,"start2":1784,"length1":55,"length2":8}]],"length":2324,"saved":false}
{"ts":1371159365703,"patch":[[{"diffs":[[0,"t       "],[1,"  "],[0,": this._"]],"start1":837,"start2":837,"length1":16,"length2":18}]],"length":2326,"saved":false}
{"ts":1371159388037,"patch":[[{"diffs":[[0,"Document'),\n"],[1,"    _import('com.neuromantic.arete.dom.elements.media.Video'),\n"],[0,"    _class( "]],"start1":188,"start2":188,"length1":24,"length2":87}]],"length":2389,"saved":false}
