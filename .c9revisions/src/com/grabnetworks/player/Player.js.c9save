{"ts":1357247637527,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*!\n *\n * Player.js\n * com.grabnetworks.player.Player\n *\n */\n_package( 'com.grabnetworks.player',\n\t_import('swfobject'),\n\t_import( 'com.grabnetworks.player.PlayerEvent' ),\n\t_class( 'Player', {\n\t\tstatic_local: false,\n        private_swf: null,\n        private_settings: {\n            id: 1720202,\n            width: 400,\n            height: 300\n          },\n          private_deferredCall: null,\n          private_eventListeners: {},\n          private_defer: function( functionName, argument) {\n          \tvar _this = this;\n          \tif( this._.swf){\n\t            var deferredCall = function (){ _this._.swf[functionName](argument) };\n\t            try {\n\t              deferredCall();\n\t            } catch (e) {\n\t              this._.deferredCall = deferredCall;\n\t            }\n            }else{\n            \tthis._.deferredCall = { functionName: functionName, argument: argument };\n            }\n          },\n          private_div : null,\n          private_eventRouter: function(eventObject) {\n            switch (eventObject.event) {\n            case PlayerEvent.PLAYER_READY:\n              if (this._.deferredCall) {\n                this._.deferredCall();\n                this._.deferredCall = null;\n              }\n              break;\n            }\n            var listeners = this._.eventListeners[eventObject.event];\n            if (listeners && listeners.length) {\n              for (var n = 0; n < listeners.length; n++) {\n                listeners[n](eventObject.value);\n              }\n            }\n          },\n          private_playerID : '',\n          private_setSWF : function ( swf ){\n//        \t  var objects = this._.parent.getElementsByTagName( 'object' );\n//\t    \t  for (var i= 0; i < objects.length; i++ ){\n//\t    \t\t var swfElement = objects[i]\n//\t    \t\t if( swfElement.id == this._.playerID ){\n//\t    \t\t\t break;\n//\t    \t\t }\n//\t    \t  }\n\t\t\tthis._.swf = swf.ref;//swfElement;\n\t\t\tthis._.swf.style.visibility = 'block';\n\t\t\tthis._.swf.style.display = 'visible' ;\n\t\t\tthis.style = this._.swf.style;\n\t\t\tif (this.onReady) {\n\t\t\t\tthis.onReady();\n\t\t\t}//if\n\t\t\tif(this._.deferredCall){\n\t\t\t\tvar functionName = this._.deferredCall.functionName;\n\t\t\t\tvar argument = this._.deferredCall.argument\n\t\t\t\tthis._.deferredCall = null;\n\t\t\t\tthis[ functionName ]( argument);\n\t\t\t}\n          },\n          Player : function ( settings ){\n\t\t\tif (settings.variant == '') {\n\t\t\t\tdelete settings.variant;\n\t\t\t}//if\n\t\t\tvar settings = this._.settings = settings || this._.settings;\n\t\t\tvar params = { allowScriptAccess: 'always', allowFullScreen: 'true', wmode: 'transparent', menu: 'false', bgcolor: '#000000', quality: 'high' };//params\n\t\t\tvar env = settings.env;\n\t\t\tenv = env || '';\n\t\t\tdelete settings.env;\n\t\t\tvar width = settings.width;\n\t\t\tdelete settings.width;\n\t\t\tvar height = settings.height;\n\t\t\tdelete settings.height;\n\t\t\tvar flashvars = settings;\n\t\t\tvar id = settings.id;\n\t\t\tvar namespace = 'Player._.players[' + id + ']';\n\t\t\tvar eventhandler = '_.eventRouter';\n\t\t\tflashvars.namespace = namespace;\n\t\t\tflashvars.eventhandler = eventhandler;\n\t\t\tthis._.playerID = 'GrabPlayer' + settings.id;\n\t\t    var divID = 'grabDiv' + id\n\t\t\tthis._.parent = settings.parent\n\t\t\tvar div = document.getElementById(divID);\n\t\t      if( !div ){\n\t\t      \tdiv = document.createElement( 'div');\n\t\t      \tdiv.id = divID;\n\t\t      \tsettings.parent.appendChild( div );\n\t\t      }\n\t\t\tdiv.style.display = 'none';\n\t\t\tdiv.style.visibility = 'hidden';\n\t\t\tvar attributes = { id: this._.playerID, name: this._.playerID };//attributes\n\t\t\tvar baseURL = Player.local ? '' : 'http://player.grabnetworks.com/v5' + env + '/';\n\t\t\tswfobject.embedSWF(baseURL + 'Player.swf', div.id, width, height, '9.0.0', false, flashvars, params, attributes, this._.setSWF);\n\t\t\tPlayer._ = Player._ || { players:[] };\n\t\t\tPlayer._.players[id] = this;\n\t\t},//Player\n        on: function(eventName, doThis) {\n          this._.eventListeners[eventName] = this._.eventListeners[eventName] || [];\n          this._.eventListeners[eventName].push( doThis );\n        },\n        off: function(eventName) {\n          if (eventName) {\n            if (this._.eventListeners[eventName]) {\n              delete this._.eventListeners[eventName]\n            }\n          } else {\n            this._eventListeners = {};\n          }\n        },\n        loadNewVideo: function( guid ) {\n          this._.defer( 'loadNewVideo', guid );\n        },\n        toggleDebug: function() {\n          this._.defer(  'toggleDebug' );\n        },\n        stopVideo: function() {\n          this._.defer( 'stopVideo' );\n        },\n        showEmbed: function() {\n          this._.defer( 'showEmbed' );\n        },\n        hideEmbed: function() {\n          this._.defer( 'hideEmbed' );\n        },\n        hideInfo: function() {\n          this._.defer( 'hideInfo' );\n        },\n        showInfo: function() {\n          this._.defer( 'showInfo' );\n        },\n        showSharing: function() {\n          this._.defer( 'showSharing' );\n        },\n        hideSharing: function() {\n          this._.defer( 'hideSharing' );\n        },\n        showEmail: function() {\n          this._.defer( 'showEmail' );\n        },\n        hideEmail: function() {\n          this._defer( 'hideEmail' );\n        },\n        pauseVideo: function() {\n          this._.defer( 'pauseVideo' );\n        },\n        playVideo: function() {\n          this._.defer( 'playVideo' );\n        },\n        replayVideo: function() {\n          this._.defer( 'replayVideo' );\n        },\n        seekVideoTo: function( percent ) {\n          this._.defer( 'seekVideoTo', percent );\n        },\n        seekVideoToMS: function(milliseconds) {\n          this._.defer( 'seekVideoToMS', milliseconds );\n        },\n        setVolume: function(level) {\n          this._.defer( 'setVolume', level);\n        },\n        mute: function() {\n          this._.defer( 'mute' );\n        },\n        skipAd: function() {\n          this._.defer( 'skipAd' );\n        },\n        videoTotalTime: function() {\n          return this._.swf.videoTotalTime();\n        },\n        videoCurrentTime: function() {\n          return this._.swf.videoCurrentTime();\n        },\n        videoTitleText: function() {\n          return this._.swf.videoTitleText();\n        },\n        videoDescriptionText: function() {\n          return this._.swf.videoDescriptionText();\n        },\n        videoSourceLogo: function() {\n          return this._.swf.videoSourceLogo();\n        },\n        videoSourceURL: function() {\n          return this._.swf.videoSourceURL();\n        },\n        videoInfo: function() {\n          return this._.swf.videoInfo();\n        }\n\t})\n);"]],"start1":0,"start2":0,"length1":0,"length2":6565}]],"length":6565}
{"contributors":[],"silentsave":false,"ts":1357253402026,"patch":[[{"diffs":[[0,"layer',\n"],[-1,"\t"],[1,"    "],[0,"_import("]],"start1":90,"start2":90,"length1":17,"length2":20},{"diffs":[[0,"ject'),\n"],[-1,"\t"],[1,"    "],[0,"_import("]],"start1":116,"start2":116,"length1":17,"length2":20},{"diffs":[[0,"ent' ),\n"],[1,"    _import( 'com.neuromantic.utils.BrowserUtil'),\n    _import( 'com.neuromantic.utils.URIUtil'),\n"],[0,"\t_class("]],"start1":170,"start2":170,"length1":16,"length2":114},{"diffs":[[0,"_.swf){\n"],[-1,"\t"],[1,"    "],[0,"        "]],"start1":647,"start2":647,"length1":17,"length2":20},{"diffs":[[0,"ent) };\n"],[-1,"\t"],[1,"    "],[0,"        "]],"start1":734,"start2":734,"length1":17,"length2":20},{"diffs":[[0,"  try {\n"],[-1,"\t"],[1,"      "],[0,"        "]],"start1":756,"start2":756,"length1":17,"length2":22},{"diffs":[[0,"Call();\n"],[-1,"\t"],[1,"    "],[0,"        "]],"start1":792,"start2":792,"length1":17,"length2":20},{"diffs":[[0,"h (e) {\n"],[-1,"\t"],[1,"      "],[0,"        "]],"start1":822,"start2":822,"length1":17,"length2":22},{"diffs":[[0,"edCall;\n"],[-1,"\t"],[1,"    "],[0,"        "]],"start1":878,"start2":878,"length1":17,"length2":20},{"diffs":[[0,"        "],[-1,"\t"],[1,"    "],[0,"this._.d"]],"start1":927,"start2":927,"length1":17,"length2":20},{"diffs":[[0,"      }\n        "],[-1,"  "],[0,"},\n"],[-1,"  "],[0,"        private_"]],"start1":1019,"start2":1019,"length1":39,"length2":35},{"diffs":[[0,"ate_div : null,\n"],[-1,"  "],[0,"        private_"]],"start1":1050,"start2":1050,"length1":34,"length2":32}]],"length":6688,"saved":false}
