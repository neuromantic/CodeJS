{"ts":1357154299706,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*!\n *\n * HTTP.js\n * com.neuromantic.arete.server.HTTP\n *\n */\n_package( 'com.neuromantic.arete.server',\n \t_import( 'com.neuromantic.arete.component.Component' ),\n\t_class( 'HTTP' )._extends( 'Component', {\n\t\tprivate_server: null,\n\t\tprivate_listen : function ( location ){\n\t\t\tthis._.server = require('http').createServer(this._.handleRequest);\n\t\t\tif(location.host && location.port ){\n\t\t\t\tthis._.server.listen(  location.port, location.host );\n\t\t\t\tthis.emit( { log:  'HTTP listening at host ' + location.host + ' on port ' + location.port } );\n\t\t\t}\n\t\t},\n\t\tprivate_handleRequest: function( req, res ) {\n\t\t\tthis.emit( { request : { req: req, res: res } } );\n\t\t},\n\t\tconfig : function ( config ) {\n\t\t\tif(config.http){\n\t\t\t\tthis._.listen( config.http );\n\t\t\t}\n\t\t},\n\t\tprocess : function ( message ){\n\t\t\tif ( message.request ) {\n\t\t\t\treturn message.request.res.end();\n\t\t\t}else if ( message.location ){\n_debug( message.path.join('>'));\n\t\t\t\treturn this._.listen( message.location );\n\t\t\t}\n\t\t\tthis._super().process( message );\n\t\t}//, \n\t})\n);"]],"start1":0,"start2":0,"length1":0,"length2":1024}]],"length":1024}
{"contributors":[],"silentsave":false,"ts":1361492252894,"patch":[[{"diffs":[[0,"res ) {\n"],[1,"    \t    this.emit( { log:  'HTTP Request ' + req.url } );\n"],[0,"\t\t\tthis."]],"start1":591,"start2":591,"length1":16,"length2":75}]],"length":1083,"saved":false}
{"ts":1361492368080,"patch":[[{"diffs":[[0,") {\n"],[-1,"    \t    this.emit( { log:  'HTTP Request ' + req.url } );\n"],[0,"\t\t\tt"]],"start1":595,"start2":595,"length1":67,"length2":8}]],"length":1024,"saved":false}
